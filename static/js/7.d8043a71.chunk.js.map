{"version":3,"sources":["components/errorMessage/error.gif","components/errorMessage/ErrorMessage.js","services/MarvelService.js","hooks/http.hook.js","resources/img/Avengers.png","resources/img/Avengers_logo.png","components/appBanner/AppBanner.js","components/pages/SingleCharacterPage.js"],"names":["ErrorMessage","_jsx","style","display","width","height","objectFit","margin","src","img","alt","useMarvelService","loading","request","error","clearError","process","setProcess","useHttp","setLoading","useState","setError","useCallback","async","url","method","arguments","length","undefined","body","headers","response","fetch","ok","Error","concat","status","data","json","e","message","_apiBase","_apiKey","_transformCharacter","char","description","slice","name","id","thumbnail","path","extension","homepage","urls","wiki","comics","items","_transformComics","_comics$textObjects$","title","pageCount","language","textObjects","price","prices","getCharacter","result","results","getCharacterByName","getAllCharacters","offset","map","getComics","getAllComics","AppBanner","_jsxs","className","children","avengers","avengersLogo","View","_ref","Helmet","content","SingleCharacterPage","charId","useParams","setChar","useEffect","updateChar","then","onCharLoaded","errorMessage","spinner","Spinner","_Fragment"],"mappings":"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","file":"static/js/7.d8043a71.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/error.42292aa1.gif\";","import img from \"./error.gif\";\n\nconst ErrorMessage = () => {\n  return (\n    <img\n      style={{\n        display: \"block\",\n        width: \"250\",\n        height: \"250\",\n        objectFit: \"contain\",\n        margin: \"0 auto\",\n      }}\n      src={img}\n      alt=\"Error\"\n    />\n  );\n};\n\nexport default ErrorMessage;\n","import { useHttp } from \"../hooks/http.hook\";\n\nconst useMarvelService = () => {\n  const { loading, request, error, clearError, process, setProcess } =\n    useHttp();\n\n  const _apiBase = \"https://gateway.marvel.com:443/v1/public/\";\n  const _apiKey = \"apikey=e71e2718fabff072296a2d9a69c1759c\";\n  const _baseOffset = 210;\n\n  // запити до API\n\n  //запит на групу персонажів\n  const getAllCharacters = async (offset = _baseOffset) => {\n    const result = await request(\n      `${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`,\n    ); // Request URL з сайту Marvel Developer\n\n    //повертаємо масив з новими об'єктами\n    return result.data.results.map(_transformCharacter);\n  };\n\n  //запит на одного персонажа\n  const getCharacter = async (id) => {\n    const result = await request(`${_apiBase}characters/${id}?&${_apiKey}`); // Request URL з сайту Marvel Developer\n    return _transformCharacter(result.data.results[0]);\n  };\n\n  //запит на персонажа за іменем\n  const getCharacterByName = async (name) => {\n    const result = await request(\n      `${_apiBase}characters?name=${name}&${_apiKey}`,\n    ); // Request URL з сайту Marvel Developer\n    return _transformCharacter(result.data.results[0]);\n  };\n\n  //метод отримує дані та трансформує в необхідні. в нашому випадку отримує великий об'єкт з даними про персонажа і повертає об'єкт з потрібними нам даними\n  const _transformCharacter = (char) => {\n    //перевірка для description\n    const description = char.description\n      ? char.description.length > 150\n        ? char.description.slice(0, 149) + \"...\"\n        : char.description\n      : `There is no data about ${char.name}`;\n\n    return {\n      id: char.id,\n      name: char.name,\n      description: description,\n      thumbnail: char.thumbnail.path + \".\" + char.thumbnail.extension,\n      homepage: char.urls[0].url,\n      wiki: char.urls[1].url,\n      comics: char.comics.items,\n    };\n  };\n\n  //запит на групу коміксів\n  const getAllComics = async (offset = 0) => {\n    const result = await request(\n      `${_apiBase}comics?limit=8&offset=${offset}&${_apiKey}`,\n    );\n    return result.data.results.map(_transformComics);\n  };\n\n  const getComics = async (id) => {\n    const result = await request(`${_apiBase}comics/${id}?&${_apiKey}`); // Request URL з сайту Marvel Developer\n    return _transformComics(result.data.results[0]);\n  };\n\n  const _transformComics = (comics) => {\n    return {\n      id: comics.id,\n      title: comics.title,\n      description: comics.description || \"There is no description\",\n      pageCount: comics.pageCount\n        ? `${comics.pageCount} p.`\n        : \"No information about the number of pages\",\n      thumbnail: comics.thumbnail.path + \".\" + comics.thumbnail.extension,\n      language: comics.textObjects[0]?.language || \"en-us\",\n      price: comics.prices[0].price\n        ? `${comics.prices[0].price}$`\n        : \"not available\",\n    };\n  };\n\n  return {\n    loading,\n    error,\n    process,\n    setProcess,\n    getCharacter,\n    getCharacterByName,\n    getAllCharacters,\n    clearError,\n    getComics,\n    getAllComics,\n  };\n};\n\nexport default useMarvelService;\n","import { useState, useCallback } from \"react\";\n\nexport const useHttp = () => {\n  const [loading, setLoading] = useState(false); //  вказує на те, чи йде завантаження\n  const [error, setError] = useState(null); // вказує на те, чи виникла помилка\n\n  const [process, setProcess] = useState(\"waiting\");\n\n  // useCallback приймає асинхронну функцію, бо ми працюємо з запитами\n  const request = useCallback(\n    async (\n      url,\n      method = \"GET\",\n      body = null,\n      headers = { \"Content-Type\": \"application/json\" },\n    ) => {\n      setLoading(true);\n      setProcess(\"loading\");\n\n      try {\n        const response = await fetch(url, { method, body, headers });\n\n        if (!response.ok) {\n          throw new Error(`Could not fetch ${url}, status: ${response.status}`);\n        }\n\n        const data = await response.json();\n\n        setLoading(false);\n        return data;\n      } catch (e) {\n        setLoading(false);\n        setError(e.message);\n        setProcess(\"error\");\n        throw e;\n      }\n    },\n    [],\n  );\n\n  const clearError = useCallback(() => {\n    setError(null);\n    setProcess(\"loading\");\n  }, []);\n\n  return { loading, request, error, clearError, process, setProcess };\n};\n","export default __webpack_public_path__ + \"static/media/Avengers.4065c8f9.png\";","export default __webpack_public_path__ + \"static/media/Avengers_logo.9eaf2193.png\";","import './appBanner.scss';\nimport avengers from '../../resources/img/Avengers.png';\nimport avengersLogo from '../../resources/img/Avengers_logo.png';\n\nconst AppBanner = () => {\n    return (\n        <div className=\"app__banner\">\n            <img src={avengers} alt=\"Avengers\"/>\n            <div className=\"app__banner-text\">\n                New comics every week!<br/>\n                Stay tuned!\n            </div>\n            <img src={avengersLogo} alt=\"Avengers logo\"/>\n        </div>\n    )\n}\n\nexport default AppBanner;","import { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { Helmet } from \"react-helmet\";\n\nimport useMarvelService from \"../../services/MarvelService\";\nimport Spinner from \"../spinner/Spinner\";\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\n\nimport \"./singleCharacterPage.scss\";\nimport AppBanner from \"../appBanner/AppBanner\";\n\nconst SingleCharacterPage = () => {\n  const { charId } = useParams();\n  const [char, setChar] = useState(null);\n\n  const { loading, error, getCharacter, clearError } = useMarvelService();\n\n  useEffect(() => {\n    updateChar();\n  }, [charId]);\n\n  const updateChar = () => {\n    clearError();\n    getCharacter(charId).then(onCharLoaded);\n  };\n\n  const onCharLoaded = (char) => {\n    setChar(char);\n  };\n\n  const errorMessage = error ? <ErrorMessage /> : null;\n  const spinner = loading ? <Spinner /> : null;\n  const content = !(loading || error || !char) ? <View char={char} /> : null;\n\n  return (\n    <>\n      <AppBanner />\n      {errorMessage}\n      {spinner}\n      {content}\n    </>\n  );\n};\n\nconst View = ({ char }) => {\n  const { name, description, thumbnail } = char;\n\n  return (\n    <div className=\"single-character\">\n      <Helmet>\n        <meta name=\"description\" content={`${name}page`} />\n        <title>{name}</title>\n      </Helmet>\n      <img src={thumbnail} alt={name} className=\"single-character__img\" />\n      <div className=\"single-character__info\">\n        <h2 className=\"single-character__name\">{name}</h2>\n        <p className=\"single-character__descr\">{description}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default SingleCharacterPage;\n"],"sourceRoot":""}